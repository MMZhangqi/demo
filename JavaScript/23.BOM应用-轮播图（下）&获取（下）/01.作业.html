<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>wqrewrwe</title>
    <style>
        * {
            margin: 0;
            padding: 0
        }
        img {
            vertical-align: top;
        }
        .top,
        .nav,
        .main {
            margin: auto;
            text-align: center;
        }
        .main {
            width: 1000px;
            margin-top: 10px;
        }
        .fixed {
            position: fixed;
            top: 0;
            left: 50%;
            margin-left: -712px;
            z-index: 0;
        }
        #mouseimg {
            width: 50px;
            /* height: 50px; */
            
            position: fixed;
            visibility: hidden;
            z-index: 1;
        }
    </style>
</head>
<body>
    <img id="mouseimg" src="images/tianshi.gif" alt="">
    <div class="top" id="topPart">
        <img src="images/top.png" alt="" />
    </div>
    <div class="nav" id="navBar">
        <img src="images/nav.png" alt="" />
    </div>
    <div class="main" id="mainPart">
        <img src="images/main.png" alt="" />
    </div>

    <script src="common.js"></script>
    <script>
        /* 
            获取页面卷曲高度：
            window.pageXOffset
            window.pageYOffset // IE8不支持

            document.documentElement.scrollTop
            document.documentElement.scrollLeft // 都支持

            document.body.scrollTop
            document.body.scrollLeft // 都不支持（混杂模式下支持）
        */

        // 给窗口注册滚动事件
        // window.onscroll = function() {
        //     console.log(document.documentElement.scrollTop);
        // }

        // 封装获取页面向上或者向左卷曲出去的距离值
        // function getScroll() {
        //     var obj = {};
        //     obj.left = window.pageXOffset || document.documentElement.scrollLeft;
        //     obj.top = window.pageYOffset || document.documentElement.scrollTop;
        //     return obj;
        // }

        // 简化：封装获取页面向上或者向左卷曲出去的距离值
        function getScroll() {
            return {
                left: window.pageXOffset || document.documentElement.scrollLeft,
                top: window.pageYOffset || document.documentElement.scrollTop
            }
        }
        window.onscroll = function() {
            var height = my$("topPart").offsetHeight;
            // 判断：向上卷曲出去的距离 >= height
            if(getScroll().top >= height) {
                my$("navBar").className = "fixed nav";
                // 内容区的margin-top值
                my$("mainPart").style.marginTop = my$("navBar").offsetHeight + "px";
            }else {
                my$("navBar").className = "nav";
                my$("mainPart").style.marginTop = "10px";
            }
        }
        window.onmousemove = function(e) {
            console.log(e);
            my$("mouseimg").style.visibility = "visible"
            my$("mouseimg").style.top = e.clientY + 10 + "px";
            my$("mouseimg").style.left = e.clientX + 10 + "px"; 
        }
        window.onmouseout = function(){
            my$("mouseimg").style.visibility = "hidden"
        }
    </script>
</body>
</html>